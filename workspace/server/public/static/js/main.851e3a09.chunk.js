(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),o=a.n(c),l=a(1),s=(a(12),a(4)),i=a.n(s);var u=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:i.a,alt:"Around the U.S. logo",className:"header__logo"}))},m=a(5),p=a(6),d=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(m.a)(this,e),this._baseUrl=a,this._headers=n}return Object(p.a)(e,[{key:"getCardList",value:function(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)}))}},{key:"getAppInfo",value:function(){return Promise.all([this.getUserInfo(),this.getCardList()])}},{key:"addCard",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)}))}},{key:"removeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)}))}},{key:"cardLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)}))}},{key:"cardUnlike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)}))}},{key:"setUserInfo",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)}))}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return console.log("avatar",t),fetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-4",headers:{authorization:"82ebb591-5edb-4637-a2e8-efb178ef4c56","Content-Type":"application/json"}});var f=function(e){return r.a.createElement("li",{className:"card__group"},r.a.createElement("img",{className:"card__image",src:e.src,alt:e.alt,onClick:e.onCardClick}),r.a.createElement("button",{className:"card__remove-button",onClick:e.onDeleteClick}),r.a.createElement("h2",{className:"card__title"},e.title),r.a.createElement("button",{className:"card__like-button"}),r.a.createElement("h5",{className:"card__like-count"},e.likes.length))};var h=function(e){var t=Object(n.useState)(),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(),i=Object(l.a)(s,2),u=i[0],m=i[1],p=Object(n.useState)(),h=Object(l.a)(p,2),_=h[0],E=h[1],b=Object(n.useState)([]),k=Object(l.a)(b,2),g=k[0],C=k[1];return Object(n.useEffect)((function(){d.getUserInfo().then((function(e){o(e.avatar),m(e.name),E(e.about)})).catch((function(e){return console.log(e)}))})),Object(n.useEffect)((function(){d.getCardList().then((function(e){C(e.map((function(e){return{link:e.link,title:e.name,likes:e.likes}})))})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement("main",null,r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__avatar"},r.a.createElement("img",{src:c,alt:u,className:"profile__img"}),r.a.createElement("button",{className:"profile__avatar-overlay",onClick:e.onEditAvatar})),r.a.createElement("div",{className:"profile__info"},r.a.createElement("h1",{className:"profile__name"},u),r.a.createElement("p",{className:"profile__about"},_),r.a.createElement("button",{type:"button",className:"profile__edit-button",onClick:e.onEditProfile})),r.a.createElement("button",{className:"profile__add-button",onClick:e.onAddPlace})),r.a.createElement("section",{className:"elements"},r.a.createElement("ul",{className:"card"},g.map((function(t,a){return r.a.createElement(f,{key:a,src:t.link,title:t.title,onCardClick:function(){return e.handleCardClick(t.link,t.title)},likes:t.likes,id:t._id,owner:t.owner,onDeleteClick:function(){return e.handleDeleteClick(t)}})})))))};var _=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Around The U.S."))};var E=function(e){return r.a.createElement("div",{className:"popup popup__".concat(e.name," ").concat(e.isOpen?"popup_visible":""),onClick:e.onClose},r.a.createElement("div",{className:"popup__content"},r.a.createElement("button",{type:"button",className:"popup__close-button",onClick:e.onClose}),r.a.createElement("h3",{className:"popup__title"},e.title),r.a.createElement("form",{action:"#",className:"popup__form",noValidate:!0,name:e.name},e.children,r.a.createElement("button",{type:"submit",className:"popup__button popup__submit-button"},e.buttonText))))};var b=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{required:!0,minLength:"2",id:e.name,type:e.type,className:"popup__input popup__input_".concat(e.name),name:e.name,placeholder:e.name,onChange:e.handleChange,defaultValue:e.defaultValue}),r.a.createElement("span",{id:"".concat(e.name,"-error"),className:"popup__error"}))};var k=function(e){return r.a.createElement("div",{className:"popup popup__picture-section ".concat(e.isOpen?"popup_visible":""),onClick:e.onClose},r.a.createElement("div",{className:"popup__content popup__content_theme_transparent"},r.a.createElement("button",{className:"popup__close-button",onClick:e.onClose}),r.a.createElement("figure",null,r.a.createElement("img",{className:"popup__image",src:e.link,alt:e.title}),r.a.createElement("figcaption",{className:"popup__caption"},e.title))))};var g=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2),i=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(l.a)(p,2),f=d[0],g=d[1],C=Object(n.useState)(!1),v=Object(l.a)(C,2),N=v[0],j=v[1],O=Object(n.useState)(""),y=Object(l.a)(O,2),T=y[0],U=y[1],P=Object(n.useState)(""),x=Object(l.a)(P,2),S=x[0],A=x[1],I=Object(n.useState)(!1),V=Object(l.a)(I,2),D=V[0],L=V[1];function w(e,t){A(e),U(t),j(!0)}function J(){L(!0)}function q(e){e.target===e.currentTarget&&(c(!1),m(!1),g(!1),j(!1),L(!1))}return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"page__content"},r.a.createElement(u,null),r.a.createElement(h,{onEditAvatar:function(){c(!0)},onEditProfile:function(){m(!0)},onAddPlace:function(){g(!0)},onCardClick:function(e){w(e)},onDeleteClick:function(e){J()},onClose:q,handleCardClick:w,handleDeleteClick:J}),r.a.createElement(_,null),r.a.createElement(E,{name:"add-image",title:"Change profile picture",isOpen:a,onClose:q},r.a.createElement(b,{id:"popup-url",type:"url",className:"card-url",placeholder:"Image link",name:"Imagelink",defaultValue:""})),r.a.createElement(E,{name:"edit-profile",title:"Edit Profile",isOpen:i,onClose:q},r.a.createElement(b,{id:"profile-name",type:"text",className:"profile-name",name:"name",placeholder:"Jaques Cousteau",handleChange:function(){console.log("type!!!")},defaultValue:""}),r.a.createElement(b,{id:"profile-text",type:"text",className:"profile-about",name:"link",placeholder:"Explorer",handleChange:function(){console.log("type!!!")},defaultValue:""})),r.a.createElement(E,{name:"add-card",title:"New Place",buttonText:"Create",isOpen:f,onClose:q},r.a.createElement(b,{id:"popup-title",type:"text",className:"card-name",name:"name",placeholder:"Title",handleChange:function(){console.log("type!!!")},defaultValue:""}),r.a.createElement(b,{id:"popup-url",type:"url",className:"card-url",name:"link",placeholder:"Image link",handleChange:function(){console.log("type!!!")},defaultValue:""})),r.a.createElement(E,{name:"delete-confirm",title:"Are you sure?",buttonText:"Yes",isOpen:D,onClose:q}),r.a.createElement(k,{isOpen:N,onClose:q,title:T,link:S})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))},4:function(e,t,a){e.exports=a.p+"static/media/aroundtheus.3e6893cd.svg"},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.851e3a09.chunk.js.map